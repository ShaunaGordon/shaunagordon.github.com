title: Use Pidgin and Google Apps to Chat
date: 2012-11-01 17:00
category: tech
tags: tutorials
slug: use-pidgin-and-google-apps-to-chat

<div class='post'>
<p>Who doesn't use instant messenger of some form these days? Those of us from the days when there were as many chat programs as people probably have half a dozen accounts or more, or at least did at one point (who didn't have ICQ, MSN, AIM, <i>and</i> Yahoo?). Thank goodness for unifying applications like Pidgin/Adium, Trillian, and others.</p><p>Now that some of us old chatters have grown up and created businesses (or at least business names) of our own, we may need to add our Google Apps accounts to the mix. This is a little trickier than just adding a Gmail, or other established provider, account, but thankfully, it's not that difficult. I found, though, that start-to-finish instructions for getting set up on Pidgin were lacking, so we'll cover them here. These instructions will work for Pidgin, and should work for Adium (the Mac port of Pidgin), though one may find the settings in slightly different places, due to convention differences across the platforms. The basic information should also work for other clients, such as Tillian, though, obviously, you're on your own for finding were to enter everything.</p><!-- more --><h2>1. Server Settings</h2><p>Before you can even do anything in Pidgin, you need to first set up your domain to use the XMPP chat protocol and Google as the provider, and make sure that external chat is turned on in your Google Apps account. You can do this by going into the DNS management section of your web host.</p><p><b>2 things of note:</b> First, where and how you update your DNS information will depend entirely on your host. Since every host uses a different interface, detailing every single one is beyond the scope of this article. If you don't know how to edit your DNS listings, then you'll need to consult your host's documentation or help system.</p><p>Second, many hosting companies offer a wizard for setting up a domain to work with Google Apps. These scripts are great for getting email and whatnot associated, but they unfortunately do not include setting up for chat. You will need to set this up manually.</p><h3>Turn on Google Chat</h3><p>This should be enabled by default, but if you're not sure, or you turned it off previously, sign in to your Google Apps account with an administrative account and go into the domain management section.</p><p>On your dashboard, there should be a "Your Google apps" widget. If "Chat" does not show up in the list, then click on the "Enable more services link" and find the "Chat" service and make sure it's turned on.</p><h3>Edit Your SRV Entries</h3><p>Google has a <a href="http://support.google.com/a/bin/answer.py?hl=en&amp;answer=34143" target="_blank">nice little documentation page</a> that includes the information needed to fill in for your SRV entries. Specifically, you want to keep note of the data itself:</p><p>_xmpp-server._tcp.<b>yourdomain.com</b>. IN   SRV     5 0 5269 xmpp-server.l.google.com.<br />_xmpp-server._tcp.<b>yourdomain.com</b>. IN   SRV     20 0 5269 alt1.xmpp-server.l.google.com.<br />_xmpp-server._tcp.<b>yourdomain.com</b>. IN   SRV     20 0 5269 alt2.xmpp-server.l.google.com.<br />_xmpp-server._tcp.<b>yourdomain.com</b>. IN   SRV     20 0 5269 alt3.xmpp-server.l.google.com.<br />_xmpp-server._tcp.<b>yourdomain.com</b>. IN   SRV     20 0 5269 alt4.xmpp-server.l.google.com.</p><p>When filling out your SRV entries, replace <b>yourdomain.com</b> with the domain you want to use to connect to.</p><h2>2. Pidgin Settings</h2><p>This is where things aren't quite so straightforward. As you're probably aware, with your Gmail account (and other XMPP direct providers), you simply fill in the username and domain fields, and Pidgin happily picks up the rest of details. For your custom setup, though, there's a little more to fill in.</p><p>First, to add your account, select "XMPP" for the provider. Set the username and domain the same way you did with your Gmail account, with the username as the portion to the left of the @ symbol in your email, and the domain as the portion to the right of it.</p><p>Since you're piggybacking off of Google's servers, which have a different domain name, you need to fill in the <b>resource</b> field with <i>gmail.com/</i> (yes, include the slash).</p><p>After that, go over to the "Advanced" tab and fill in the following information:</p><p><b>Connect port:</b> 5222<br /><b>Connect server:</b> talk.google.com<br /><b>File transfer proxies:</b> proxy.jabber.org</p><p>(*Note:* I've found that Pidgin might insist on using proxy.eu.jabber.org, this doesn't seem to affect file transfers. I think the important part is that it's a jabber.org address.) </p><p>Click "Save" and you're done!</p><p>If Pidgin cannot connect, it may be due to the fact that it takes some time for DNS changes to propagate through the Internet. If you just added your SRV entries, you may need to wait a day for the changes to take full effect.</p></div>
